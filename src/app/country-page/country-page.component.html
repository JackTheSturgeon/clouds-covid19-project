
<div class="my-3 text-right" *ngIf="apidbService.userSignedIn(); else elseBlock">
    <p class="text-center">Welcome {{ user.displayName }} </p>
    <button class="btn btn-danger" (click)="apidbService.signOut()">Sign Out</button>
    <div *ngIf="user.eligible; else elseEligible">
        <button class="btn btn-primary"><a routerLink="/add-news" class="mx-3" style="color: white;">Add News</a></button>
    </div>
    <ng-template #elseEligible>
        <button class="btn btn-primary" (click)="apidbService.askForEligibility()">Ask to be eligible</button> 
    </ng-template>
</div>
<ng-template #elseBlock>
    <div class="my-3 text-right">
        <a routerLink="/signin">Sign In</a>
    </div>
</ng-template>
<div class="my-3">
    <h1 style="text-align: center;">
        <img height="40em" src="https://firebasestorage.googleapis.com/v0/b/covid19-coulds-project.appspot.com/o/COVID19-730x480.png?alt=media&token=0102c92a-f28e-4c10-be16-adae0a90983e">
        COVID-19</h1>
    <h2 style="text-align: center;">Live Updates and Statistics</h2>
</div>

<div class="my-3" style="text-align: center; background-color: black; color: white">
    <p><a routerLink="">Worldwide</a> > {{ countryName }} </p>
</div>

<div>
    <table class="table table-bordered table-stripped">
        <thead>
            <tr style="background-color: #fae8e8A1;">
                <th colspan="2">Corona Virus Summary in {{ countryName }} </th>
            </tr>
        </thead>
        <tbody>
            <tr style="background-color: #ffe945A1;">
                <td>Total Cases</td>
                <td>{{ summaryData.totalCases }}</td>
            </tr>
            <tr style="background-color: #ffe945A1;">
                <td>New Cases</td>
                <td>{{ summaryData.newCases }}</td>
            </tr>
            <tr style="background-color: #ffe945A1;">
                <td>Active Cases</td>
                <td>{{ summaryData.activeCases }}</td>
            </tr>
            <tr style="background-color: #45a8ffA1;">
                <td>Total Recovered</td>
                <td>{{ summaryData.totalRecovered }}</td>
            </tr>
            <tr style="background-color: #45a8ffA1;">
                <td>New Recovered</td>
                <td>{{ summaryData.newRecovered }}</td>
            </tr>
            <tr style="background-color: #45a8ffA1;">
                <td>Recovery Rate</td>
                <td>{{ summaryData.recoveryRate }}%</td>
            </tr>
            <tr style="background-color: #ff4545A1;">
                <td>Total Deaths</td>
                <td>{{ summaryData.totalDeaths }}</td>
            </tr>
            <tr style="background-color: #ff4545A1;">
                <td>New Deaths</td>
                <td>{{ summaryData.newDeaths }}</td>
            </tr>
            <tr style="background-color: #ff4545A1;">
                <td>Mortality Rate</td>
                <td>{{ summaryData.mortalityRate }}%</td>
            </tr>
        </tbody>
    </table>
</div>

<app-pie-chart [isHome]="isHome" [country_for_url]="api_parsed_countryName" [countryName]="countryName"></app-pie-chart>

<app-bar-chart [isHome]="isHome" [country]="api_parsed_countryName"></app-bar-chart>

<app-line-chart [isHome]="isHome" [country]="api_parsed_countryName"></app-line-chart>

<div class="mt-5">
    <table class="table table-bordered">
        <thead class="text-center">
            <tr style="background-color: #aaaaaa;">
                <th colspan="4">Corona Virus news in {{ countryName }}</th>
            </tr>
            <tr>
                <th>Date</th>
                <th>Description</th>
                <th>Country</th>
                <th>Author</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let new of news">
                <td>{{new.date.toDate() | date}}</td>
                <td>{{new.description}}</td>
                <td>{{new.country}}</td>
                <td>{{new.author_displayName}}</td>
            </tr>
        </tbody>
    </table>
    </div>
    
    <div class="text-center mt-10">
        <table class="table table-bordered">
            <thead>
                <tr style="background-color: #e8e8e8;">
                    <th colspan="2">
                        Sources : <a href="https://api.covid19api.com/">COVID-19 API / Johns Hopkins CSSE</a>
                    </th>
                </tr>
            </thead>
        </table>
    </div>
    